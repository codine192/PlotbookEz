<Window x:Class="EzPlot.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:viewmodels="clr-namespace:EzPlot.ViewModels" d:DataContext="{d:DesignInstance Type=viewmodels:MainWindowViewModel}"
        
        
        mc:Ignorable="d"
        Title="EzPlot" Height="490" Width="800">
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
        <BooleanToVisibilityConverter x:Key="InverseBooleanToVisibilityConverter" />
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Top Toolbar -->
        <StackPanel Grid.Row="0" Orientation="Horizontal">
            <Button Content="Load Plotbook" Margin="5" Command="{Binding OpenLoadPlotBookCommand}"/>

            <Button Content="New Plotbook" Margin="5" Command="{Binding OpenNewPlotBookCommand}" />
            <Button Content="View Residents" Margin="5"/>
            <Button Content="Add Resident" Margin="5" Command="{Binding OpenAddNewResidentCommand}"/>
            <!-- Add more controls as needed -->
        </StackPanel>


        <!-- Main Image/Plot Display Area -->
        <Canvas Name="MainCanvas" Grid.Row="1" Background="LightGray">
            <Image Stretch="UniformToFill" Height="345"  Width="710" HorizontalAlignment="Left" VerticalAlignment="Top"  Source="{Binding DisplayedImage}" Canvas.Left="45" Canvas.Top="19"/>
            <InkCanvas Name="inkCanvas" Width="710" Height="345" Canvas.Left="50" Canvas.Top="16" Background="Transparent" Visibility="{Binding IsPlottingMode, Converter={StaticResource BooleanToVisibilityConverter}}"/>
            <!-- You'll programmatically add plot shapes to this canvas -->
        </Canvas>

        <!-- Details Section -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,376,0,0" RenderTransformOrigin="0.5,0.5" Height="38" VerticalAlignment="Top">
            <StackPanel.RenderTransform>
                <TransformGroup>
                    <ScaleTransform/>
                    <SkewTransform AngleX="0"/>
                    <RotateTransform/>
                    <TranslateTransform X="0"/>
                </TransformGroup>
            </StackPanel.RenderTransform>
            <TextBlock Text="Selected Plot: " Margin="5" />
            <TextBox Width="200" Margin="5" Text="{Binding SelectedPlotBook.name,UpdateSourceTrigger=PropertyChanged}"/>

            <Button Content="Show Plotbook" Height="25" Width="150" Command="{Binding DisplaySelectedPlotBookImage, UpdateSourceTrigger=PropertyChanged}" />
            <Button Content="Viewing Mode"  Height="25" Width="120" HorizontalAlignment="Right"  Margin="5" Command="{Binding SwitchToViewingModeCommand}" Visibility="{Binding IsPlottingMode, Converter={StaticResource BooleanToVisibilityConverter}}"/>
            <Button Content="Plotting Mode" Height="25" Width="120" Command="{Binding SwitchToPlottingModeCommand}" Visibility="{Binding IsPlottingMode, Converter={StaticResource InverseBooleanToVisibilityConverter}}"/>
            <!-- Add more controls as needed for displaying/editing plot and resident details -->
        </StackPanel>
        
    </Grid>
    
</Window>


